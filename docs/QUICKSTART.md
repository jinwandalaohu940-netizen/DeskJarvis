# 快速开始指南

> 5分钟了解如何使用AI辅助开发DeskJarvis项目

## 🎯 核心思路

**问题**：AI辅助开发时可能出现前后文不一致  
**解决方案**：建立项目知识库 + 模块化开发 + 检查点机制

## 📚 文档体系（必须阅读）

开发前，**必须**阅读以下文档：

1. **`docs/ARCHITECTURE.md`** - 架构设计
   - 技术栈（固定，不可随意更改）
   - 目录结构（必须遵循）
   - 核心原则

2. **`docs/DEVELOPMENT.md`** - 开发规范
   - 代码风格规范
   - 错误处理规范
   - 日志规范

3. **`docs/DECISIONS.md`** - 技术决策
   - 为什么选择这些技术
   - 已有决策（避免重复讨论）

4. **`docs/AI_WORKFLOW.md`** - AI工作流（本文档的详细版）
   - 标准提示词模板
   - 常见问题处理
   - 质量检查清单

## 🚀 标准工作流程

### 步骤1：开始新功能前

**必须做的3件事**：

1. **阅读文档**
   ```
   提示词：
   请先阅读以下文档了解项目：
   - docs/ARCHITECTURE.md
   - docs/DEVELOPMENT.md
   - docs/DECISIONS.md
   ```

2. **明确需求**
   - 描述要实现的功能
   - 说明输入输出
   - 列出约束条件

3. **创建任务清单**
   - 分解为小任务
   - 每个任务独立可测试

### 步骤2：开发时使用标准提示词

**标准提示词模板**（复制使用）：

```
【项目上下文】
我正在开发 DeskJarvis 项目，这是一个AI Agent桌面应用。

【架构约束】
- 前端：Tauri + React + TypeScript
- 后端：Python 3.11+ + Playwright
- AI模型：Claude API
- 通信：Tauri Shell Command调用Python

请参考以下文档：
- docs/ARCHITECTURE.md（架构设计）
- docs/DEVELOPMENT.md（开发规范）
- docs/DECISIONS.md（技术决策）

【当前任务】
[具体描述要实现的功能]

【相关文件】
- [列出相关文件路径]
- [粘贴关键代码片段]

【要求】
1. 遵循架构文档中的设计
2. 遵循开发规范中的代码风格
3. 保持与现有代码一致
4. 添加完整的错误处理和日志
5. 添加类型提示和docstring
```

### 步骤3：遇到不一致时

**如果AI生成的代码与现有代码不一致**：

1. **停止**：不要直接使用不一致的代码
2. **对比**：对比架构文档和现有代码
3. **修正提示词**：
   ```
   我发现生成的代码与现有代码不一致：
   - [具体问题1]
   - [具体问题2]
   
   请参考以下现有代码风格：
   [粘贴现有代码示例]
   
   请重新生成，保持一致性。
   ```

### 步骤4：完成后检查

**检查清单**：
- [ ] 代码遵循架构文档
- [ ] 代码遵循开发规范
- [ ] 有完整的错误处理和日志
- [ ] 有类型提示和docstring
- [ ] 文档已更新（如有变更）

## 💡 实用技巧

### 技巧1：每次对话开始时引用文档

```
提示词开头：
请参考 docs/ARCHITECTURE.md 和 docs/DEVELOPMENT.md...
```

### 技巧2：使用代码模板

项目提供了代码模板：
- `templates/python_module.py` - Python模块模板
- `templates/typescript_component.tsx` - React组件模板

创建新文件时，先复制模板。

### 技巧3：模块化开发

- 每个功能独立开发
- 模块间通过明确接口通信
- 减少上下文依赖

### 技巧4：记录技术决策

如果有新技术选择，先记录在 `docs/DECISIONS.md`：
- 为什么需要这个决策
- 选择了什么方案
- 有什么影响

## ⚠️ 常见错误避免

### ❌ 错误1：直接开始编码，不读文档
**后果**：代码不符合架构，需要重写

**✅ 正确做法**：先读文档，再编码

### ❌ 错误2：AI建议改变架构时直接采纳
**后果**：破坏一致性

**✅ 正确做法**：先记录在DECISIONS.md，评估后再决定

### ❌ 错误3：代码不一致时直接使用
**后果**：代码风格混乱

**✅ 正确做法**：要求AI修正或手动调整

## 📖 示例：添加"下载文件"功能

### 步骤1：规划
```
提示词：
我正在添加"下载文件"功能，请参考 docs/ARCHITECTURE.md，
设计实现方案。
```

### 步骤2：开发
```
提示词：
根据架构文档，请实现 agent/executor/file_downloader.py：
- 使用Playwright下载文件
- 保存到沙盒目录
- 添加错误处理和日志
- 返回文件路径或错误信息
```

### 步骤3：集成
```
提示词：
请将 file_downloader.py 集成到 agent/main.py 中，
确保可以通过Shell Command调用。
```

### 步骤4：检查
- 代码提交
- 文档更新
- 测试通过

## 🎓 学习路径

1. **第1天**：阅读所有文档，理解架构
2. **第2天**：使用模板创建第一个模块
3. **第3天**：实现一个完整功能
4. **第4天+**：按照工作流程持续开发

## 📞 需要帮助？

- 查看 [AI_WORKFLOW.md](AI_WORKFLOW.md) 获取详细指南
- 查看 [DEVELOPMENT.md](DEVELOPMENT.md) 了解开发规范
- 查看 [ARCHITECTURE.md](ARCHITECTURE.md) 了解架构设计

---

**记住**：文档是你的AI助手，每次对话都要引用它！
